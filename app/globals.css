@tailwind base;
@tailwind components;
@tailwind utilities;

/* Let Tailwind handle the base styles and dark mode */

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  /* Fix input field text color */
  input, textarea, select {
    color: rgb(17, 24, 39) !important; /* text-gray-900 */
    background-color: white !important;
  }
  
  input::placeholder, textarea::placeholder {
    color: rgb(107, 114, 128) !important; /* text-gray-500 */
  }
  
  /* Safe area insets for mobile devices */
  .pt-safe-area-inset-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .pb-safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  /* iPhone specific fixes */
  @supports (-webkit-touch-callout: none) {
    /* iOS Safari specific styles */
    .ios-fix {
      -webkit-overflow-scrolling: touch;
    }
    
    /* Fix for iPhone bottom navigation */
    .iphone-bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      z-index: 50;
      background: white;
      border-top: 1px solid #e5e7eb;
      padding-bottom: env(safe-area-inset-bottom);
    }
    
    /* Ensure content doesn't get cut off */
    .iphone-content {
      padding-bottom: calc(4rem + env(safe-area-inset-bottom));
    }
    
    /* Fix for iPhone modal height */
    .iphone-modal {
      max-height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom));
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }
    
    /* Fix for iPhone input focus */
    .iphone-input:focus {
      transform: translateZ(0);
    }
  }
  
  .pl-safe-area-inset-left {
    padding-left: env(safe-area-inset-left);
  }
  
  .pr-safe-area-inset-right {
    padding-right: env(safe-area-inset-right);
  }

  /* Enhanced mobile optimizations */
  .mobile-layout {
    overflow-x: hidden;
  }

  .mobile-portrait {
    min-height: 100vh;
    min-height: 100dvh; /* Dynamic viewport height for mobile browsers */
  }

  .mobile-landscape {
    min-height: 100vh;
    min-height: 100dvh;
  }

  /* Touch-friendly button sizing */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  /* Prevent zoom on input focus (iOS) */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="search"],
  textarea,
  select {
    font-size: 16px;
  }

  /* Better text rendering on mobile */
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  /* Mobile-specific grid adjustments */
  @media (max-width: 767px) {
    .mobile-grid-2 {
      grid-template-columns: repeat(2, 1fr);
    }
    
    .mobile-grid-1 {
      grid-template-columns: 1fr;
    }
  }

  /* Tablet-specific adjustments */
  @media (min-width: 768px) and (max-width: 1023px) {
    .tablet-grid-3 {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  /* Prevent pull-to-refresh on mobile */
  body {
    overscroll-behavior: none;
  }

  /* Better modal handling on mobile */
  .modal-mobile {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 50;
  }

  /* Mobile navigation optimizations */
  .mobile-nav {
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  /* Chart responsiveness for mobile */
  .chart-container {
    position: relative;
    height: 300px;
  }

  @media (max-width: 767px) {
    .chart-container {
      height: 250px;
    }
  }

  @media (max-width: 480px) {
    .chart-container {
      height: 200px;
    }
  }

  /* Android specific fixes */
  .android-device {
    -webkit-tap-highlight-color: transparent;
  }

  /* iOS specific fixes */
  @supports (-webkit-touch-callout: none) {
    .ios-device {
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -webkit-tap-highlight-color: transparent;
    }
  }
}


